# -*- coding:utf-8-*-
[[https://travis-ci.org/phenix3443/openresty-delvelop-frame.svg?branch=master]]

* 概述
  工作中经常使用 openresty 开发项目，这里将开发经验做了一个总结，生成一个通用的开发框架，内容包括：
  + 工程组织结构。
  + 工程文档标准。
  + 代码编写和代码文档。
  + 自动化测试脚本。
  + 自动化打包和编译。

* 使用

** 安装 openresty
  可以先使用 build_openresty.sh 脚本安装 openresty。
  #+BEGIN_SRC sh
./build_openresty.sh <project-dir>
  #+END_SRC

** 然后安装服务代码
  #+BEGIN_SRC sh
cd build
cmake .. -DCMAKE_INSTALL_PREFIX=<project-dir>
make install
  #+END_SRC

** 修改
  1. 修改代码所有含有 example 的位置。

  2. 在前端代理中添加：
     #+BEGIN_SRC nginx
include <path-to-project>/project.proxy.nginx.conf;
     #+END_SRC

* 打包
  考虑到最好在生产环境自行安装 openresty，所以打包好的文件没有 nginx 执行程序。
